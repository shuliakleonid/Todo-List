(this["webpackJsonptodolist-ts"]=this["webpackJsonptodolist-ts"]||[]).push([[0],{114:function(t,e,n){"use strict";n.r(e);var a,r,c=n(0),o=n.n(c),i=n(8),l=n.n(i),u=(n(85),n(31)),s=n(159),d=n(147),f=n(148),T=o.a.memo((function(t){var e=Object(c.useState)(""),n=Object(u.a)(e,2),a=n[0],r=n[1],i=Object(c.useState)(null),l=Object(u.a)(i,2),T=l[0],O=l[1];console.log("AddItemForm click");return o.a.createElement("div",null,o.a.createElement(s.a,{value:a,onChange:function(t){r(t.target.value),O(null)},onKeyPress:function(e){null!==T&&O(null);var n=a.trim();13===e.charCode&&""!==n?(t.addItem(n),r("")):O("Error write name!")},helperText:T&&"Write title",label:"Title",error:Boolean(T),onBlur:function(){O(null)}}),o.a.createElement(d.a,{onClick:function(){a.trim()?(t.addItem(a),r("")):O("Error write name!")}},o.a.createElement(f.a,null)))})),O=o.a.memo((function(t){var e=Object(c.useState)(""),n=Object(u.a)(e,2),a=n[0],r=n[1],i=Object(c.useState)(!1),l=Object(u.a)(i,2),d=l[0],f=l[1];return d?o.a.createElement(s.a,{onChange:function(t){r(t.currentTarget.value)},onBlur:function(){t.onChange(a),f(!1)},value:a,autoFocus:!0}):o.a.createElement("span",{onDoubleClick:function(){f(!0),r(t.title)}},t.title)})),E=n(115),m=n(146),b=n(153),_=n(152),I=n(149),S=n(150),p=n(160),k=n(151),j=n(69),h=n.n(j),C=n(70),L=n.n(C);!function(t){t[t.New=0]="New",t[t.InProgress=1]="InProgress",t[t.Completed=2]="Completed",t[t.Draft=3]="Draft"}(a||(a={})),function(t){t[t.Low=0]="Low",t[t.Middle=1]="Middle",t[t.Hi=2]="Hi",t[t.Urgently=3]="Urgently",t[t.Later=4]="Later"}(r||(r={}));var v,A=L.a.create({baseURL:"https://social-network.samuraijs.com/api/1.1/",withCredentials:!0,headers:{"API-KEY":"69c9d2d3-e5a4-4bb9-9356-a9517225e2b4"}}),D=function(){return A.get("todo-lists").then((function(t){return t.data}))},g=function(t){return A.post("todo-lists",{title:t}).then((function(t){return t.data}))},y=function(t){return A.delete("todo-lists/".concat(t)).then((function(t){return t.data}))},N=function(t,e){return A.put("todo-lists/".concat(t),{title:e}).then((function(t){return t.data}))},K=function(t){return A.get("todo-lists/".concat(t,"/tasks")).then((function(t){return t.data}))},w=function(t,e){return A.delete("todo-lists/".concat(t,"/tasks/").concat(e)).then((function(t){return t.data}))},H=function(t,e){return A.post("todo-lists/".concat(t,"/tasks"),{title:e}).then((function(t){return t.data}))},G=function(t,e,n){return A.put("todo-lists/".concat(t,"/tasks/").concat(e),{title:n}).then((function(t){return t.data}))},R=n(18),M=n(36),V=n(43),F=n(10);!function(t){t.ADD_TODOLIST="ADD_TODOLIST",t.REMOVE_TODOLIST="REMOVE_TODOLIST",t.CHANGE_FILTER_TODOLIST="CHANGE_FILTER_TODOLIST",t.CHANGE_TITLE_TODOLIST="CHANGE_TITLE_TODOLIST",t.REMOVE_TASK="REMOVE_TASK",t.ADD_TASK="ADD_TASK",t.CHANGE_STATUS_TASK="CHANGE_STATUS_TASK",t.CHANGE_TITLE_TASK="CHANGE_TITLE_TASK",t.SET_TODOS="SET_TODOS",t.SET_TASK="SET_TASK"}(v||(v={}));var U={},x=function(t,e){return{type:v.REMOVE_TASK,id:e,todolistId:t}},B=function(t){return function(e){K(t).then((function(n){return e(function(t,e){return{type:v.SET_TASK,payload:{task:t,todoId:e}}}(n.items,t))}))}},P=function(t,e){return function(n){H(t,e).then((function(t){var e;n((e=t.data.item,{type:v.ADD_TASK,payload:e}))}))}},J=function(t,e,n){return function(a,r){var c=r().tasks[t].find((function(t){return t.id===e}));if(c){var o={title:c.title,description:c.description,status:n,priority:c.priority,startDate:c.startDate,deadline:c.deadline};G(t,e,o).then((function(r){return a(function(t,e,n){return{type:v.CHANGE_STATUS_TASK,status:t,todolistId:e,taskId:n}}(n,t,e))}))}}},z=o.a.memo((function(t){var e=Object(R.b)(),n=Object(c.useCallback)((function(e){var n=e.currentTarget.checked;t.changeTaskStatus(t.task.id,n?a.Completed:a.New,t.todoListId)}),[t.task.id,t.todoListId]),r=Object(c.useCallback)((function(){return e((n=t.todoListId,a=t.task.id,function(t){w(n,a).then((function(e){t(x(n,a))}))}));var n,a}),[t.todoListId,t.task.id]),i=Object(c.useCallback)((function(e){t.changeTaskTitle(t.task.id,e,t.todoListId)}),[t.task.id,t.todoListId]);return o.a.createElement(I.a,{key:t.task.id,className:t.task.status===a.Completed?h.a.done:""},o.a.createElement(S.a,null,o.a.createElement(p.a,{color:"primary",checked:t.task.status===a.Completed,onChange:n})),o.a.createElement(k.a,null,o.a.createElement(O,{title:t.task.title,onChange:i})),o.a.createElement(d.a,{onClick:r},o.a.createElement(_.a,null)))})),W=n(30),Y=(Object(W.v1)(),Object(W.v1)(),[]),q=function(t,e){return{type:v.CHANGE_TITLE_TODOLIST,todolistId:t,title:e}},Q=function(){return function(t){D().then((function(e){var n;t((n=e,{type:v.SET_TODOS,payload:n}))}))}},X=function(t){return function(e){y(t).then((function(n){var a;e((a=t,{type:v.REMOVE_TODOLIST,id:a}))}))}},Z=function(t){return function(e){g(t).then((function(n){e(function(t){return{type:v.ADD_TODOLIST,title:t,todolistId:Object(W.v1)()}}(t))}))}},$=o.a.memo((function(t){var e=Object(R.b)();Object(c.useEffect)((function(){e(B(t.id))}),[]);var n=t.tasks;"active"===t.filter&&(n=t.tasks.filter((function(t){return t.status===a.New}))),"completed"===t.filter&&(n=t.tasks.filter((function(t){return t.status===a.Completed})));var r=Object(c.useCallback)((function(e){console.log(e.currentTarget.textContent),t.changeFilter(e.currentTarget.textContent,t.id)}),[t]),i=Object(c.useCallback)((function(n){e(function(t,e){return function(n){N(t,e).then((function(a){n(q(t,e))}))}}(t.id,n))}),[t.id,t.changeTodoListNewTitle]),l=Object(c.useCallback)((function(n){e(P(t.id,n))}),[t.addTask,t.id]),u=n.map((function(e){return o.a.createElement(z,{key:Object(W.v1)(),task:e,todoListId:t.id,changeTaskStatus:t.changeTaskStatus,changeTaskTitle:t.changeTaskTitle})}));return o.a.createElement(E.a,null,o.a.createElement(m.a,null,o.a.createElement("h3",null,o.a.createElement(O,{title:t.title,onChange:i}),o.a.createElement(d.a,{onClick:function(){e(X(t.id))}},o.a.createElement(_.a,null))),o.a.createElement(T,{addItem:l}),o.a.createElement("ul",null,u),o.a.createElement(b.a,{variant:"contained",color:"all"===t.filter?"secondary":"primary",onClick:r},"all"),o.a.createElement(b.a,{variant:"contained",color:"active"===t.filter?"secondary":"primary",onClick:r},"active"),o.a.createElement(b.a,{variant:"contained",color:"completed"===t.filter?"secondary":"primary",onClick:r},"completed"))," ")})),tt=n(154),et=n(155),nt=n(44),at=n(157),rt=n(158),ct=n(156),ot=function(){var t=Object(R.c)((function(t){return t.todoLists})),e=Object(R.c)((function(t){return t.tasks})),n=Object(R.b)();Object(c.useEffect)((function(){n(Q())}),[n]);var a=Object(c.useCallback)((function(t,e){n(q(t,e))}),[n]),r=Object(c.useCallback)((function(t,e){n(P(t,e))}),[n]),i=Object(c.useCallback)((function(t,e,a){n(J(a,t,e))}),[n]),l=Object(c.useCallback)((function(t,e,a){n(function(t,e,n){return{type:v.CHANGE_TITLE_TASK,id:t,title:e,todolistId:n}}(t,a,e))}),[n]),u=Object(c.useCallback)((function(t,e){n(x(t,e))}),[n]),s=Object(c.useCallback)((function(t,e){n(function(t,e){return{type:v.CHANGE_FILTER_TODOLIST,todolistId:t,filter:e}}(e,t))}),[n]),f=Object(c.useCallback)((function(t){n(Z(t))}),[n]);return o.a.createElement("div",{className:"App"},o.a.createElement(tt.a,{position:"static"},o.a.createElement(et.a,null,o.a.createElement(d.a,{edge:"start",color:"inherit","aria-label":"menu"},o.a.createElement(ct.a,null)),o.a.createElement(nt.a,{variant:"h3"},"Todo"),o.a.createElement(b.a,{color:"inherit"},"Login"))),o.a.createElement(at.a,{fixed:!0},o.a.createElement(rt.a,{container:!0,style:{padding:"20px"}},o.a.createElement(T,{addItem:f})),o.a.createElement(rt.a,{container:!0,spacing:10},t.map((function(t){var n=e[t.id];return o.a.createElement(rt.a,{item:!0,key:t.id},o.a.createElement(E.a,null,o.a.createElement($,{id:t.id,title:t.title,filter:t.filter,addTask:r,remove:u,tasks:n,changeFilter:s,changeTaskStatus:i,changeTaskTitle:l,changeTodoListNewTitle:a})))})))))},it=n(29),lt=n(73),ut=Object(it.c)({tasks:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:U,e=arguments.length>1?arguments[1]:void 0;switch(e.type){case v.SET_TASK:var n=Object(F.a)({},t);return n[e.payload.todoId]=e.payload.task,n;case v.SET_TODOS:var a=Object(F.a)({},t);return e.payload.forEach((function(t){a[t.id]=[]})),a;case v.REMOVE_TASK:var r=Object(F.a)({},t),c=t[e.todolistId];return r[e.todolistId]=c.filter((function(t){return t.id!==e.id})),r;case v.ADD_TASK:var o=Object(F.a)({},t),i=e.payload,l=o[e.payload.todoListId],u=[i].concat(Object(V.a)(l));return o[e.payload.todoListId]=u,o;case v.CHANGE_STATUS_TASK:var s=t[e.todolistId],d=s.map((function(t){return t.id===e.taskId?Object(F.a)(Object(F.a)({},t),{},{status:e.status}):t}));return t[e.todolistId]=d,Object(F.a)({},t);case v.CHANGE_TITLE_TASK:return Object(F.a)(Object(F.a)({},t),{},Object(M.a)({},e.todolistId,t[e.todolistId].map((function(t){return t.id===e.id?Object(F.a)(Object(F.a)({},t),{},{title:e.title}):Object(F.a)({},t)}))));case v.ADD_TODOLIST:return Object(F.a)(Object(F.a)({},t),{},Object(M.a)({},e.todolistId,[]));case v.REMOVE_TODOLIST:var f=Object(F.a)({},t);return delete f[e.id],f;default:return t}},todoLists:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Y,e=arguments.length>1?arguments[1]:void 0;switch(e.type){case v.ADD_TODOLIST:return[{id:e.todolistId,title:e.title,filter:"all",addedDate:"",order:0}].concat(Object(V.a)(t));case v.REMOVE_TODOLIST:return t.filter((function(t){return t.id!==e.id}));case v.CHANGE_FILTER_TODOLIST:return t.map((function(t){return t.id===e.todolistId?Object(F.a)(Object(F.a)({},t),{},{filter:e.filter}):t}));case v.CHANGE_TITLE_TODOLIST:return t.map((function(t){return t.id===e.todolistId?Object(F.a)(Object(F.a)({},t),{},{title:e.title}):t}));case v.SET_TODOS:return e.payload.map((function(t){return Object(F.a)(Object(F.a)({},t),{},{filter:"all"})}));default:return t}}}),st=Object(it.d)(ut,Object(it.a)(lt.a));window.store=st,l.a.render(o.a.createElement(R.a,{store:st},o.a.createElement(ot,null)),document.getElementById("root"))},69:function(t,e,n){t.exports={active:"todoList_active__3oVN6",done:"todoList_done__3zuU6",error:"todoList_error__1Ckbf",message_error:"todoList_message_error__2OJDR"}},80:function(t,e,n){t.exports=n(114)},85:function(t,e,n){}},[[80,1,2]]]);
//# sourceMappingURL=main.9750386b.chunk.js.map