(this["webpackJsonptodolist-ts"]=this["webpackJsonptodolist-ts"]||[]).push([[0],{117:function(t,e,n){"use strict";n.r(e);var a,r,c=n(0),o=n.n(c),i=n(8),u=n.n(i),l=(n(87),n(32)),s=n(162),d=n(150),f=n(151),p=o.a.memo((function(t){var e=Object(c.useState)(""),n=Object(l.a)(e,2),a=n[0],r=n[1],i=Object(c.useState)(null),u=Object(l.a)(i,2),p=u[0],O=u[1];return o.a.createElement("div",null,o.a.createElement(s.a,{value:a,onChange:function(t){r(t.target.value),O(null)},onKeyPress:function(e){null!==p&&O(null);var n=a.trim();13===e.charCode&&""!==n?(t.addItem(n),r("")):O("Error write name!")},helperText:p&&"Write title",label:"Title",error:Boolean(p),onBlur:function(){O(null)}}),o.a.createElement(d.a,{onClick:function(){a.trim()?(t.addItem(a),r("")):O("Error write name!")}},o.a.createElement(f.a,null)))})),O=o.a.memo((function(t){var e=Object(c.useState)(""),n=Object(l.a)(e,2),a=n[0],r=n[1],i=Object(c.useState)(!1),u=Object(l.a)(i,2),d=u[0],f=u[1];return d?o.a.createElement(s.a,{onChange:function(t){r(t.currentTarget.value)},onBlur:function(){t.onChange(a),f(!1)},value:a,autoFocus:!0}):o.a.createElement("span",{onDoubleClick:function(){f(!0),r(t.title)}},t.title)})),T=n(118),E=n(149),b=n(156),m=n(155),v=n(152),k=n(153),_=n(163),h=n(154),j=n(71),S=n.n(j),I=n(72),C=n.n(I);!function(t){t[t.New=0]="New",t[t.InProgress=1]="InProgress",t[t.Completed=2]="Completed",t[t.Draft=3]="Draft"}(a||(a={})),function(t){t[t.Low=0]="Low",t[t.Middle=1]="Middle",t[t.Hi=2]="Hi",t[t.Urgently=3]="Urgently",t[t.Later=4]="Later"}(r||(r={}));var A,L=C.a.create({baseURL:"https://social-network.samuraijs.com/api/1.1/",withCredentials:!0,headers:{"API-KEY":"69c9d2d3-e5a4-4bb9-9356-a9517225e2b4"}}),D=function(){return L.get("todo-lists").then((function(t){return t.data}))},y=function(t){return L.post("todo-lists",{title:t}).then((function(t){return t.data.data.item}))},w=function(t){return L.delete("todo-lists/".concat(t)).then((function(t){return t.data}))},g=function(t,e){return L.put("todo-lists/".concat(t),{title:e}).then((function(t){return t.data}))},x=function(t){return L.get("todo-lists/".concat(t,"/tasks")).then((function(t){return t.data}))},N=function(t,e){return L.delete("todo-lists/".concat(t,"/tasks/").concat(e)).then((function(t){return t.data}))},K=function(t,e){return L.post("todo-lists/".concat(t,"/tasks"),{title:e}).then((function(t){return t.data}))},H=function(t,e,n){return L.put("todo-lists/".concat(t,"/tasks/").concat(e),{title:n}).then((function(t){return t.data}))},G=n(19),R=n(12),M=n.n(R),V=n(21),U=n(37),F=n(45),B=n(10);!function(t){t.ADD_TODOLIST="ADD_TODOLIST",t.REMOVE_TODOLIST="REMOVE_TODOLIST",t.CHANGE_FILTER_TODOLIST="CHANGE_FILTER_TODOLIST",t.CHANGE_TITLE_TODOLIST="CHANGE_TITLE_TODOLIST",t.REMOVE_TASK="REMOVE_TASK",t.ADD_TASK="ADD_TASK",t.CHANGE_STATUS_TASK="CHANGE_STATUS_TASK",t.CHANGE_TITLE_TASK="CHANGE_TITLE_TASK",t.SET_TODOS="SET_TODOS",t.SET_TASK="SET_TASK"}(A||(A={}));var P={},J=function(t,e){return{type:A.REMOVE_TASK,id:e,todolistId:t}},z=function(t){return{type:A.ADD_TASK,payload:t}},W=function(t,e,n){return{type:A.CHANGE_STATUS_TASK,status:t,todolistId:e,taskId:n}},Y=function(t,e){return{type:A.SET_TASK,payload:{task:t,todoId:e}}},q=function(t,e){return function(){var n=Object(V.a)(M.a.mark((function n(a){var r;return M.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,K(t,e);case 3:r=n.sent,a(z(r.data.item)),n.next=11;break;case 8:n.prev=8,n.t0=n.catch(0),console.warn(n.t0);case 11:case"end":return n.stop()}}),n,null,[[0,8]])})));return function(t){return n.apply(this,arguments)}}()},Q=o.a.memo((function(t){var e=Object(G.b)(),n=Object(c.useCallback)((function(e){var n=e.currentTarget.checked;t.changeTaskStatus(t.task.id,n?a.Completed:a.New,t.todoListId)}),[t]),r=Object(c.useCallback)((function(){return e((n=t.todoListId,a=t.task.id,function(){var t=Object(V.a)(M.a.mark((function t(e){return M.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,N(n,a);case 3:e(J(n,a)),t.next=9;break;case 6:t.prev=6,t.t0=t.catch(0),console.warn(t.t0);case 9:case"end":return t.stop()}}),t,null,[[0,6]])})));return function(e){return t.apply(this,arguments)}}()));var n,a}),[t.todoListId,t.task.id,e]),i=Object(c.useCallback)((function(e){t.changeTaskTitle(t.task.id,e,t.todoListId)}),[t]);return o.a.createElement(v.a,{key:t.task.id,className:t.task.status===a.Completed?S.a.done:""},o.a.createElement(k.a,null,o.a.createElement(_.a,{color:"primary",checked:t.task.status===a.Completed,onChange:n})),o.a.createElement(h.a,null,o.a.createElement(O,{title:t.task.title,onChange:i})),o.a.createElement(d.a,{onClick:r},o.a.createElement(m.a,null)))})),X=n(38),Z=(Object(X.v1)(),Object(X.v1)(),[]),$=function(t,e){return{type:A.ADD_TODOLIST,title:t,todolistId:e}},tt=function(t,e){return{type:A.CHANGE_TITLE_TODOLIST,todolistId:t,title:e}},et=function(t){return{type:A.SET_TODOS,payload:t}},nt=o.a.memo((function(t){var e=Object(G.b)();Object(c.useEffect)((function(){var n;e((n=t.id,function(){var t=Object(V.a)(M.a.mark((function t(e){var a;return M.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,x(n);case 3:a=t.sent,e(Y(a.items,n)),t.next=10;break;case 7:t.prev=7,t.t0=t.catch(0),console.warn(t.t0);case 10:case"end":return t.stop()}}),t,null,[[0,7]])})));return function(e){return t.apply(this,arguments)}}()))}),[e,t.id]);var n=t.tasks;"active"===t.filter&&(n=t.tasks.filter((function(t){return t.status===a.New}))),"completed"===t.filter&&(n=t.tasks.filter((function(t){return t.status===a.Completed})));var r=Object(c.useCallback)((function(e){t.changeFilter(e.currentTarget.textContent,t.id)}),[t]),i=Object(c.useCallback)((function(n){e(function(t,e){return function(){var n=Object(V.a)(M.a.mark((function n(a){return M.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,g(t,e);case 3:a(tt(t,e)),n.next=9;break;case 6:n.prev=6,n.t0=n.catch(0),console.warn(n.t0);case 9:case"end":return n.stop()}}),n,null,[[0,6]])})));return function(t){return n.apply(this,arguments)}}()}(t.id,n))}),[t.id,e]),u=Object(c.useCallback)((function(n){e(q(t.id,n))}),[t.id,e]),l=n.map((function(e){return o.a.createElement(Q,{key:Object(X.v1)(),task:e,todoListId:t.id,changeTaskStatus:t.changeTaskStatus,changeTaskTitle:t.changeTaskTitle})}));return o.a.createElement(T.a,null,o.a.createElement(E.a,null,o.a.createElement("h3",null,o.a.createElement(O,{title:t.title,onChange:i}),o.a.createElement(d.a,{onClick:function(){var n;e((n=t.id,function(){var t=Object(V.a)(M.a.mark((function t(e){return M.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,w(n);case 3:e((a=n,{type:A.REMOVE_TODOLIST,id:a})),t.next=9;break;case 6:t.prev=6,t.t0=t.catch(0),console.warn(t.t0);case 9:case"end":return t.stop()}var a}),t,null,[[0,6]])})));return function(e){return t.apply(this,arguments)}}()))}},o.a.createElement(m.a,null))),o.a.createElement(p,{addItem:u}),o.a.createElement("ul",null,l),o.a.createElement(b.a,{variant:"contained",color:"all"===t.filter?"secondary":"primary",onClick:r},"all"),o.a.createElement(b.a,{variant:"contained",color:"active"===t.filter?"secondary":"primary",onClick:r},"active"),o.a.createElement(b.a,{variant:"contained",color:"completed"===t.filter?"secondary":"primary",onClick:r},"completed"))," ")})),at=n(157),rt=n(158),ct=n(46),ot=n(160),it=n(161),ut=n(159),lt=function(){var t=Object(G.c)((function(t){return t.todoLists})),e=Object(G.c)((function(t){return t.tasks})),n=Object(G.b)();Object(c.useEffect)((function(){n(function(){var t=Object(V.a)(M.a.mark((function t(e){var n;return M.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,D();case 3:n=t.sent,e(et(n)),t.next=10;break;case 7:t.prev=7,t.t0=t.catch(0),console.warn(t.t0);case 10:case"end":return t.stop()}}),t,null,[[0,7]])})));return function(e){return t.apply(this,arguments)}}())}),[n]);var a=Object(c.useCallback)((function(t,e){n(tt(t,e))}),[n]),r=Object(c.useCallback)((function(t,e){n(q(t,e))}),[n]),i=Object(c.useCallback)((function(t,e,a){n(function(t,e,n){return function(){var a=Object(V.a)(M.a.mark((function a(r,c){var o,i,u,l,s;return M.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:if(o=c(),i=o.tasks,u=i[t],!(l=u.find((function(t){return t.id===e})))){a.next=15;break}return s={title:l.title,description:l.description,status:n,priority:l.priority,startDate:l.startDate,deadline:l.deadline},a.prev=6,a.next=9,H(t,e,s);case 9:r(W(n,t,e)),a.next=15;break;case 12:a.prev=12,a.t0=a.catch(6),console.warn(a.t0);case 15:case"end":return a.stop()}}),a,null,[[6,12]])})));return function(t,e){return a.apply(this,arguments)}}()}(a,t,e))}),[n]),u=Object(c.useCallback)((function(t,e,a){n(function(t,e,n){return{type:A.CHANGE_TITLE_TASK,id:t,title:e,todolistId:n}}(t,a,e))}),[n]),l=Object(c.useCallback)((function(t,e){n(J(t,e))}),[n]),s=Object(c.useCallback)((function(t,e){n(function(t,e){return{type:A.CHANGE_FILTER_TODOLIST,todolistId:t,filter:e}}(e,t))}),[n]),f=Object(c.useCallback)((function(t){n(function(t){return function(){var e=Object(V.a)(M.a.mark((function e(n){var a;return M.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,y(t);case 3:a=e.sent,n($(a.title,a.id)),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.warn(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}()}(t))}),[n]);return o.a.createElement("div",{className:"App"},o.a.createElement(at.a,{position:"static"},o.a.createElement(rt.a,null,o.a.createElement(d.a,{edge:"start",color:"inherit","aria-label":"menu"},o.a.createElement(ut.a,null)),o.a.createElement(ct.a,{variant:"h3"},"Todo"),o.a.createElement(b.a,{color:"inherit"},"Login"))),o.a.createElement(ot.a,{fixed:!0},o.a.createElement(it.a,{container:!0,style:{padding:"20px"}},o.a.createElement(p,{addItem:f})),o.a.createElement(it.a,{container:!0,spacing:10},t.map((function(t){var n=e[t.id];return o.a.createElement(it.a,{item:!0,key:t.id},o.a.createElement(T.a,null,o.a.createElement(nt,{id:t.id,title:t.title,filter:t.filter,addTask:r,remove:l,tasks:n,changeFilter:s,changeTaskStatus:i,changeTaskTitle:u,changeTodoListNewTitle:a})))})))))},st=n(31),dt=n(75),ft=Object(st.c)({tasks:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:P,e=arguments.length>1?arguments[1]:void 0;switch(e.type){case A.SET_TASK:var n=Object(B.a)({},t);return n[e.payload.todoId]=e.payload.task,n;case A.SET_TODOS:var a=Object(B.a)({},t);return e.payload.forEach((function(t){a[t.id]=[]})),a;case A.REMOVE_TASK:var r=Object(B.a)({},t),c=t[e.todolistId];return r[e.todolistId]=c.filter((function(t){return t.id!==e.id})),r;case A.ADD_TASK:var o=Object(B.a)({},t),i=e.payload,u=o[e.payload.todoListId],l=[i].concat(Object(F.a)(u));return o[e.payload.todoListId]=l,o;case A.CHANGE_STATUS_TASK:var s=t[e.todolistId],d=s.map((function(t){return t.id===e.taskId?Object(B.a)(Object(B.a)({},t),{},{status:e.status}):t}));return t[e.todolistId]=d,Object(B.a)({},t);case A.CHANGE_TITLE_TASK:return Object(B.a)(Object(B.a)({},t),{},Object(U.a)({},e.todolistId,t[e.todolistId].map((function(t){return t.id===e.id?Object(B.a)(Object(B.a)({},t),{},{title:e.title}):Object(B.a)({},t)}))));case A.ADD_TODOLIST:return Object(B.a)(Object(B.a)({},t),{},Object(U.a)({},e.todolistId,[]));case A.REMOVE_TODOLIST:var f=Object(B.a)({},t);return delete f[e.id],f;default:return t}},todoLists:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Z,e=arguments.length>1?arguments[1]:void 0;switch(e.type){case A.ADD_TODOLIST:return[{id:e.todolistId,title:e.title,filter:"all",addedDate:"",order:0}].concat(Object(F.a)(t));case A.REMOVE_TODOLIST:return t.filter((function(t){return t.id!==e.id}));case A.CHANGE_FILTER_TODOLIST:return t.map((function(t){return t.id===e.todolistId?Object(B.a)(Object(B.a)({},t),{},{filter:e.filter}):t}));case A.CHANGE_TITLE_TODOLIST:return t.map((function(t){return t.id===e.todolistId?Object(B.a)(Object(B.a)({},t),{},{title:e.title}):t}));case A.SET_TODOS:return e.payload.map((function(t){return Object(B.a)(Object(B.a)({},t),{},{filter:"all"})}));default:return t}}}),pt=Object(st.d)(ft,Object(st.a)(dt.a));window.store=pt,u.a.render(o.a.createElement(G.a,{store:pt},o.a.createElement(lt,null)),document.getElementById("root"))},71:function(t,e,n){t.exports={active:"todoList_active__3oVN6",done:"todoList_done__3zuU6",error:"todoList_error__1Ckbf",message_error:"todoList_message_error__2OJDR"}},82:function(t,e,n){t.exports=n(117)},87:function(t,e,n){}},[[82,1,2]]]);
//# sourceMappingURL=main.08235424.chunk.js.map